{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/suphachabharnigrodhananda/Desktop/6080/ass3/frontend/src/pages/register.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport propTypes from 'prop-types';\nimport Cookies from 'universal-cookie';\nimport { Link, Redirect } from 'react-router-dom';\n\nfunction Register({\n  changeAlert\n}) {\n  _s();\n\n  const cookies = new Cookies();\n  const [redirect, setRedirect] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [pw, setPassword] = React.useState('');\n  const [name, setName] = React.useState('');\n\n  const checkCredential = e => {\n    if (email !== '' && pw !== '' && name !== '') {\n      fetch('http://localhost:5005/admin/auth/register', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: email,\n          password: pw,\n          name: name\n        })\n      }).then(data => {\n        if (data.status === 200) {\n          data.json().then(result => {\n            cookies.set('email', email);\n            cookies.set('token', result.token);\n            changeAlert('success', 'You have registered.');\n            setRedirect('/dashboard');\n          });\n        } else {\n          data.json().then(result => {\n            changeAlert('danger', result.error);\n          });\n        }\n      });\n    }\n  };\n\n  if (redirect === '') {\n    return /*#__PURE__*/_jsxDEV(\"body\", {\n      className: \"text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-signin\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"h3 mb-3 font-weight-normal\",\n          children: \"Please sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-floating\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"sr-only\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            className: \"form-control\",\n            placeholder: \"Email address\",\n            onChange: e => {\n              setEmail(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-floating\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"sr-only\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            className: \"form-control\",\n            placeholder: \"Password\",\n            onChange: e => {\n              setPassword(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-floating\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"sr-only\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"name\",\n            name: \"name\",\n            className: \"form-control\",\n            placeholder: \"Name\",\n            onChange: e => {\n              setName(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-lg btn-primary btn-block btn-sm\",\n          name: \"submit\",\n          onClick: checkCredential,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: 'Already have an account? Login'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      push: true,\n      to: redirect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(Register, \"BUoQMWdZnDY4mzv2ttNtl5AWzBI=\");\n\n_c = Register;\nRegister.propTypes = {\n  changeAlert: propTypes.func\n};\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/suphachabharnigrodhananda/Desktop/6080/ass3/frontend/src/pages/register.jsx"],"names":["React","propTypes","Cookies","Link","Redirect","Register","changeAlert","cookies","redirect","setRedirect","useState","email","setEmail","pw","setPassword","name","setName","checkCredential","e","fetch","method","headers","Accept","body","JSON","stringify","password","then","data","status","json","result","set","token","error","target","value","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport propTypes from 'prop-types';\nimport Cookies from 'universal-cookie';\nimport {\n  Link,\n  Redirect\n} from 'react-router-dom';\n\nfunction Register ({ changeAlert }) {\n  const cookies = new Cookies();\n  const [redirect, setRedirect] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [pw, setPassword] = React.useState('');\n  const [name, setName] = React.useState('');\n\n  const checkCredential = (e) => {\n    if (email !== '' && pw !== '' && name !== '') {\n      fetch('http://localhost:5005/admin/auth/register', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: email,\n          password: pw,\n          name: name\n        })\n      }).then(data => {\n        if (data.status === 200) {\n          data.json().then((result) => {\n            cookies.set('email', email);\n            cookies.set('token', result.token);\n            changeAlert('success', 'You have registered.');\n            setRedirect('/dashboard');\n          });\n        } else {\n          data.json().then((result) => {\n            changeAlert('danger', result.error);\n          });\n        }\n      });\n    }\n  };\n\n  if (redirect === '') {\n    return (\n      <body className=\"text-center\">\n        <div\n          className='form-signin'\n        >\n          <h1 className=\"h3 mb-3 font-weight-normal\">\n            Please sign up\n          </h1>\n          <div\n            className='form-floating'\n          >\n            <label className=\"sr-only\">\n              Email\n            </label>\n              <input\n                type='email'\n                name='email'\n                className='form-control'\n                placeholder='Email address'\n                onChange={(e) => { setEmail(e.target.value); }}\n            ></input>\n          </div>\n          <div\n            className='form-floating'\n          >\n            <label className=\"sr-only\">\n              Password\n            </label>\n              <input\n                type='password'\n                name='password'\n                className='form-control'\n                placeholder='Password'\n                onChange={(e) => { setPassword(e.target.value); }}\n              ></input>\n          </div>\n          <div\n            className='form-floating'\n          >\n            <label className=\"sr-only\">\n              Name\n            </label>\n              <input\n                type='name'\n                name='name'\n                className='form-control'\n                placeholder='Name'\n                onChange={(e) => { setName(e.target.value); }}\n              ></input>\n          </div>\n          <br />\n          <button\n            className='btn btn-lg btn-primary btn-block btn-sm'\n            name='submit'\n            onClick={checkCredential}\n          >\n            Register\n          </button>\n          <br />\n          <Link to=\"/login\">\n            {'Already have an account? Login'}\n          </Link>\n        </div>\n      </body>\n    );\n  } else {\n    return (\n      <Redirect push to={redirect} />\n    );\n  }\n}\n\nRegister.propTypes = {\n  changeAlert: propTypes.func\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}