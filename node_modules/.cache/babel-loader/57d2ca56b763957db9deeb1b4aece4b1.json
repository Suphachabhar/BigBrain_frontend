{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/suphachabharnigrodhananda/Desktop/6080/ass3/frontend/src/pages/create.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport propTypes from 'prop-types';\nimport Cookies from 'universal-cookie';\nimport { Redirect } from 'react-router-dom';\n\nfunction Create({\n  changeAlert,\n  forceLogout\n}) {\n  _s();\n\n  const cookies = new Cookies();\n  const [redirect, setRedirect] = React.useState('');\n  const [name, setName] = React.useState([]);\n\n  const createGame = () => {\n    fetch('http://localhost:5005/admin/quiz/new', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + cookies.get('token')\n      },\n      body: JSON.stringify({\n        name: name\n      })\n    }).then(data => {\n      if (data.status === 200) {\n        changeAlert('success', 'You have created \"' + name + '\"');\n        setRedirect('/dashboard');\n      } else if (data.status === 403) {\n        forceLogout();\n        setRedirect('/login');\n      } else {\n        data.json().then(result => {\n          changeAlert('danger', result.error);\n        });\n      }\n    });\n  };\n\n  if (redirect === '') {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Create game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: e => {\n            setName(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: createGame,\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      push: true,\n      to: redirect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(Create, \"1uwWCsHQELp9z1dAUXLAwB/kafE=\");\n\n_c = Create;\nCreate.propTypes = {\n  changeAlert: propTypes.func,\n  forceLogout: propTypes.func\n};\nexport default Create;\n\nvar _c;\n\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"sources":["/Users/suphachabharnigrodhananda/Desktop/6080/ass3/frontend/src/pages/create.jsx"],"names":["React","propTypes","Cookies","Redirect","Create","changeAlert","forceLogout","cookies","redirect","setRedirect","useState","name","setName","createGame","fetch","method","headers","Accept","Authorization","get","body","JSON","stringify","then","data","status","json","result","error","e","target","value","func"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SACEC,QADF,QAEO,kBAFP;;AAIA,SAASC,MAAT,CAAiB;AAAEC,EAAAA,WAAF;AAAeC,EAAAA;AAAf,CAAjB,EAA+C;AAAA;;AAC7C,QAAMC,OAAO,GAAG,IAAIL,OAAJ,EAAhB;AACA,QAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BT,KAAK,CAACU,QAAN,CAAe,EAAf,CAAhC;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBZ,KAAK,CAACU,QAAN,CAAe,EAAf,CAAxB;;AAEA,QAAMG,UAAU,GAAG,MAAM;AACvBC,IAAAA,KAAK,CAAC,sCAAD,EAAyC;AAC5CC,MAAAA,MAAM,EAAE,MADoC;AAE5CC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AAEP,wBAAgB,kBAFT;AAGPC,QAAAA,aAAa,EAAE,YAAYX,OAAO,CAACY,GAAR,CAAY,OAAZ;AAHpB,OAFmC;AAO5CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBX,QAAAA,IAAI,EAAEA;AADa,OAAf;AAPsC,KAAzC,CAAL,CAUGY,IAVH,CAUQC,IAAI,IAAI;AACd,UAAIA,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AACvBpB,QAAAA,WAAW,CAAC,SAAD,EAAY,uBAAuBM,IAAvB,GAA8B,GAA1C,CAAX;AACAF,QAAAA,WAAW,CAAC,YAAD,CAAX;AACD,OAHD,MAGO,IAAIe,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AAC9BnB,QAAAA,WAAW;AACXG,QAAAA,WAAW,CAAC,QAAD,CAAX;AACD,OAHM,MAGA;AACLe,QAAAA,IAAI,CAACE,IAAL,GAAYH,IAAZ,CAAkBI,MAAD,IAAY;AAC3BtB,UAAAA,WAAW,CAAC,QAAD,EAAWsB,MAAM,CAACC,KAAlB,CAAX;AACD,SAFD;AAGD;AACF,KAtBD;AAuBD,GAxBD;;AA0BA,MAAIpB,QAAQ,KAAK,EAAjB,EAAqB;AACnB,wBACE;AAAA,6BACE;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,QAAQ,EAAGqB,CAAD,IAAO;AAAEjB,YAAAA,OAAO,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AAA0B;AAF/C;AAAA;AAAA;AAAA;AAAA,gBAHF,eAOE;AACE,UAAA,SAAS,EAAC,iBADZ;AAEE,UAAA,OAAO,EAAElB,UAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,qBADF;AAkBD,GAnBD,MAmBO;AACL,wBACE,QAAC,QAAD;AAAU,MAAA,IAAI,MAAd;AAAe,MAAA,EAAE,EAAEL;AAAnB;AAAA;AAAA;AAAA;AAAA,YADF;AAGD;AACF;;GAvDQJ,M;;KAAAA,M;AAyDTA,MAAM,CAACH,SAAP,GAAmB;AACjBI,EAAAA,WAAW,EAAEJ,SAAS,CAAC+B,IADN;AAEjB1B,EAAAA,WAAW,EAAEL,SAAS,CAAC+B;AAFN,CAAnB;AAKA,eAAe5B,MAAf","sourcesContent":["import React from 'react';\nimport propTypes from 'prop-types';\nimport Cookies from 'universal-cookie';\nimport {\n  Redirect\n} from 'react-router-dom';\n\nfunction Create ({ changeAlert, forceLogout }) {\n  const cookies = new Cookies();\n  const [redirect, setRedirect] = React.useState('');\n  const [name, setName] = React.useState([]);\n\n  const createGame = () => {\n    fetch('http://localhost:5005/admin/quiz/new', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + cookies.get('token')\n      },\n      body: JSON.stringify({\n        name: name\n      })\n    }).then(data => {\n      if (data.status === 200) {\n        changeAlert('success', 'You have created \"' + name + '\"');\n        setRedirect('/dashboard');\n      } else if (data.status === 403) {\n        forceLogout();\n        setRedirect('/login');\n      } else {\n        data.json().then((result) => {\n          changeAlert('danger', result.error);\n        });\n      }\n    });\n  };\n\n  if (redirect === '') {\n    return (\n      <>\n        <div>\n          <h1>Create game</h1>\n          <label>Name: </label>\n          <input\n            type='text'\n            onChange={(e) => { setName(e.target.value); }}\n          ></input>\n          <button\n            className='btn btn-primary'\n            onClick={createGame}\n          >\n            Create\n          </button>\n        </div>\n      </>\n    );\n  } else {\n    return (\n      <Redirect push to={redirect} />\n    );\n  }\n}\n\nCreate.propTypes = {\n  changeAlert: propTypes.func,\n  forceLogout: propTypes.func\n};\n\nexport default Create;\n"]},"metadata":{},"sourceType":"module"}