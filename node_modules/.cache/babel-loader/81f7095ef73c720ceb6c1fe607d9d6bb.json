{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/suphachabharnigrodhananda/Desktop/6080/ass3/frontend/src/elements/gameBoard.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport '../App.css';\nimport propTypes from 'prop-types';\nimport Cookies from 'universal-cookie';\nimport { Link } from 'react-router-dom';\n\nfunction GameBoard({\n  quiz,\n  changeAlert,\n  forceLogout\n}) {\n  _s();\n\n  const cookies = new Cookies();\n  const [show, setShow] = React.useState(true);\n  const [nQuestions, setNQuestions] = React.useState(0);\n  const [time, setTime] = React.useState(0);\n  let img = null;\n\n  if (quiz.thumbnail) {\n    img = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: quiz.thumbnail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 11\n    }, this);\n  }\n\n  React.useEffect(() => {\n    fetch('http://localhost:5005/admin/quiz/' + quiz.id, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + cookies.get('token')\n      }\n    }).then(data => {\n      if (data.status === 200) {\n        data.json().then(result => {\n          setNQuestions(result.questions.length);\n          let timeTmp = 0;\n          result.questions.forEach(q => {\n            timeTmp += q.time;\n          });\n          setTime(timeTmp);\n        });\n      } else if (data.status === 403) {\n        forceLogout();\n      } else {\n        data.json().then(result => {\n          changeAlert('danger', result.error);\n        });\n      }\n    });\n  }, []);\n\n  const deleteGame = () => {\n    fetch('http://localhost:5005/admin/quiz/' + quiz.id, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + cookies.get('token')\n      }\n    }).then(data => {\n      if (data.status === 200) {\n        data.json().then(result => {\n          changeAlert('success', 'You have deleted \"' + quiz.name + '\"');\n          setShow(false);\n        });\n      } else if (data.status === 403) {\n        forceLogout();\n      } else {\n        data.json().then(result => {\n          changeAlert('danger', result.error);\n        });\n      }\n    });\n  };\n\n  if (show) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cardboxs\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: quiz.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Number of questions: \", nQuestions]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Time: \", (time / 60).toFixed(1), \" mins\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), img, /*#__PURE__*/_jsxDEV(Link, {\n          to: '/edit/' + quiz.id,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: deleteGame,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  } else {\n    return null;\n  }\n}\n\n_s(GameBoard, \"vpBK2BHEhd+iuSuSEynCKmFzaMw=\");\n\n_c = GameBoard;\nGameBoard.propTypes = {\n  quiz: propTypes.object,\n  changeAlert: propTypes.func,\n  forceLogout: propTypes.func\n};\nexport default GameBoard;\n\nvar _c;\n\n$RefreshReg$(_c, \"GameBoard\");","map":{"version":3,"sources":["/Users/suphachabharnigrodhananda/Desktop/6080/ass3/frontend/src/elements/gameBoard.jsx"],"names":["React","propTypes","Cookies","Link","GameBoard","quiz","changeAlert","forceLogout","cookies","show","setShow","useState","nQuestions","setNQuestions","time","setTime","img","thumbnail","useEffect","fetch","id","method","headers","Accept","Authorization","get","then","data","status","json","result","questions","length","timeTmp","forEach","q","error","deleteGame","name","toFixed","object","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../App.css'\nimport propTypes from 'prop-types';\nimport Cookies from 'universal-cookie';\nimport {\n  Link\n} from 'react-router-dom';\n\nfunction GameBoard ({ quiz, changeAlert, forceLogout }) {\n  const cookies = new Cookies();\n  const [show, setShow] = React.useState(true);\n  const [nQuestions, setNQuestions] = React.useState(0);\n  const [time, setTime] = React.useState(0);\n\n  let img = null;\n  if (quiz.thumbnail) {\n    img = <div><img src={quiz.thumbnail} /></div>;\n  }\n\n  React.useEffect(() => {\n    fetch('http://localhost:5005/admin/quiz/' + quiz.id, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + cookies.get('token')\n      }\n    }).then(data => {\n      if (data.status === 200) {\n        data.json().then((result) => {\n          setNQuestions(result.questions.length);\n          let timeTmp = 0;\n          result.questions.forEach((q) => {\n            timeTmp += q.time;\n          });\n          setTime(timeTmp);\n        });\n      } else if (data.status === 403) {\n        forceLogout();\n      } else {\n        data.json().then((result) => {\n          changeAlert('danger', result.error);\n        });\n      }\n    });\n  }, []);\n\n  const deleteGame = () => {\n    fetch('http://localhost:5005/admin/quiz/' + quiz.id, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + cookies.get('token')\n      }\n    }).then(data => {\n      if (data.status === 200) {\n        data.json().then((result) => {\n          changeAlert('success', 'You have deleted \"' + quiz.name + '\"');\n          setShow(false);\n        });\n      } else if (data.status === 403) {\n        forceLogout();\n      } else {\n        data.json().then((result) => {\n          changeAlert('danger', result.error);\n        });\n      }\n    });\n  };\n\n  if (show) {\n    return (\n      <div>\n        <div className=\"cardboxs\">\n          <h3>{quiz.name}</h3>\n          <p>Number of questions: {nQuestions}</p>\n          <p>Time: {(time / 60).toFixed(1)} mins</p>\n          {img}\n          <Link\n            to={'/edit/' + quiz.id}\n          >\n            <button>Edit</button>\n          </Link>\n          <button\n            onClick={deleteGame}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    );\n  } else {\n    return null;\n  }\n}\n\nGameBoard.propTypes = {\n  quiz: propTypes.object,\n  changeAlert: propTypes.func,\n  forceLogout: propTypes.func\n};\n\nexport default GameBoard;\n"]},"metadata":{},"sourceType":"module"}