{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/suphachabharnigrodhananda/Desktop/6080/ass3/frontend/src/pages/play.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport propTypes from 'prop-types';\nimport Cookies from 'universal-cookie';\nimport { Redirect } from 'react-router-dom';\n\nfunction Play({\n  changeAlert\n}) {\n  _s();\n\n  const cookies = new Cookies();\n  const [redirect, setRedirect] = React.useState('');\n  const [started, setStarted] = React.useState(false);\n  React.useEffect(() => {\n    if (cookies.get('player')) {\n      fetch('http://localhost:5005/play/' + cookies.get('player') + '/status', {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + cookies.get('token')\n        }\n      }).then(data => {\n        if (data.status === 200) {\n          data.json().then(result => {\n            setStarted(result.started);\n          });\n        } else {\n          changeAlert('warning', 'Please join a session to play.');\n          setRedirect('/join');\n        }\n      });\n    } else {\n      changeAlert('warning', 'Please join a session to play.');\n      setRedirect('/join');\n    }\n  }, []);\n\n  if (redirect !== '') {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      push: true,\n      to: redirect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  } else if (!started) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"The game has not started yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please wait for admin to start the game.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}\n\n_s(Play, \"tDEc/bD/M7DCPD4+CAEk0M77VgM=\");\n\n_c = Play;\nPlay.propTypes = {\n  changeAlert: propTypes.func\n};\nexport default Play;\n\nvar _c;\n\n$RefreshReg$(_c, \"Play\");","map":{"version":3,"sources":["/Users/suphachabharnigrodhananda/Desktop/6080/ass3/frontend/src/pages/play.jsx"],"names":["React","propTypes","Cookies","Redirect","Play","changeAlert","cookies","redirect","setRedirect","useState","started","setStarted","useEffect","get","fetch","method","headers","Accept","Authorization","then","data","status","json","result","func"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SACEC,QADF,QAEO,kBAFP;;AAIA,SAASC,IAAT,CAAe;AAAEC,EAAAA;AAAF,CAAf,EAAgC;AAAA;;AAC9B,QAAMC,OAAO,GAAG,IAAIJ,OAAJ,EAAhB;AACA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BR,KAAK,CAACS,QAAN,CAAe,EAAf,CAAhC;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBX,KAAK,CAACS,QAAN,CAAe,KAAf,CAA9B;AAEAT,EAAAA,KAAK,CAACY,SAAN,CAAgB,MAAM;AACpB,QAAIN,OAAO,CAACO,GAAR,CAAY,QAAZ,CAAJ,EAA2B;AACzBC,MAAAA,KAAK,CAAC,gCAAgCR,OAAO,CAACO,GAAR,CAAY,QAAZ,CAAhC,GAAwD,SAAzD,EAAoE;AACvEE,QAAAA,MAAM,EAAE,KAD+D;AAEvEC,QAAAA,OAAO,EAAE;AACPC,UAAAA,MAAM,EAAE,kBADD;AAEP,0BAAgB,kBAFT;AAGPC,UAAAA,aAAa,EAAE,YAAYZ,OAAO,CAACO,GAAR,CAAY,OAAZ;AAHpB;AAF8D,OAApE,CAAL,CAOGM,IAPH,CAOQC,IAAI,IAAI;AACd,YAAIA,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AACvBD,UAAAA,IAAI,CAACE,IAAL,GAAYH,IAAZ,CAAkBI,MAAD,IAAY;AAC3BZ,YAAAA,UAAU,CAACY,MAAM,CAACb,OAAR,CAAV;AACD,WAFD;AAGD,SAJD,MAIO;AACLL,UAAAA,WAAW,CAAC,SAAD,EAAY,gCAAZ,CAAX;AACAG,UAAAA,WAAW,CAAC,OAAD,CAAX;AACD;AACF,OAhBD;AAiBD,KAlBD,MAkBO;AACLH,MAAAA,WAAW,CAAC,SAAD,EAAY,gCAAZ,CAAX;AACAG,MAAAA,WAAW,CAAC,OAAD,CAAX;AACD;AACF,GAvBD,EAuBG,EAvBH;;AAyBA,MAAID,QAAQ,KAAK,EAAjB,EAAqB;AACnB,wBACE,QAAC,QAAD;AAAU,MAAA,IAAI,MAAd;AAAe,MAAA,EAAE,EAAEA;AAAnB;AAAA;AAAA;AAAA;AAAA,YADF;AAGD,GAJD,MAIO,IAAI,CAACG,OAAL,EAAc;AACnB,wBACE;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA,oBADF;AAMD;AACF;;GA1CQN,I;;KAAAA,I;AA4CTA,IAAI,CAACH,SAAL,GAAiB;AACfI,EAAAA,WAAW,EAAEJ,SAAS,CAACuB;AADR,CAAjB;AAIA,eAAepB,IAAf","sourcesContent":["import React from 'react';\nimport propTypes from 'prop-types';\nimport Cookies from 'universal-cookie';\nimport {\n  Redirect\n} from 'react-router-dom';\n\nfunction Play ({ changeAlert }) {\n  const cookies = new Cookies();\n  const [redirect, setRedirect] = React.useState('');\n  const [started, setStarted] = React.useState(false);\n\n  React.useEffect(() => {\n    if (cookies.get('player')) {\n      fetch('http://localhost:5005/play/' + cookies.get('player') + '/status', {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + cookies.get('token')\n        }\n      }).then(data => {\n        if (data.status === 200) {\n          data.json().then((result) => {\n            setStarted(result.started);\n          });\n        } else {\n          changeAlert('warning', 'Please join a session to play.');\n          setRedirect('/join');\n        }\n      });\n    } else {\n      changeAlert('warning', 'Please join a session to play.');\n      setRedirect('/join');\n    }\n  }, []);\n\n  if (redirect !== '') {\n    return (\n      <Redirect push to={redirect} />\n    );\n  } else if (!started) {\n    return (\n      <>\n        <h1>The game has not started yet</h1>\n        <p>Please wait for admin to start the game.</p>\n      </>\n    );\n  }\n}\n\nPlay.propTypes = {\n  changeAlert: propTypes.func\n};\n\nexport default Play;\n"]},"metadata":{},"sourceType":"module"}