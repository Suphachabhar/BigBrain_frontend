{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/suphachabharnigrodhananda/Desktop/6080/ass3/frontend/src/login.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport Cookies from 'universal-cookie';\nimport 'react-router-dom';\nexport default function Login() {\n  _s();\n\n  const cookies = new Cookies();\n  const [email, setEmail] = React.useState('');\n  const [pw, setPassword] = React.useState('');\n  const [alertArea, setAlert] = React.useState(null);\n  const closeBtn = /*#__PURE__*/React.createElement('button', {\n    className: 'btn-close',\n    onClick: () => {\n      setAlert(null);\n    }\n  }, 'Close');\n\n  const checkCredential = e => {\n    fetch('http://localhost:5005/admin/auth/login', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: email,\n        password: pw\n      })\n    }).then(data => {\n      if (data.status === 200) {\n        data.json().then(result => {\n          cookies.set('token', result.token);\n          setAlert( /*#__PURE__*/React.createElement('div', {\n            className: 'alert alert-success alert-dismissible fade show',\n            role: 'alert'\n          }, 'success', closeBtn));\n        });\n      } else {\n        data.json().then(result => {\n          setAlert( /*#__PURE__*/React.createElement('div', {\n            className: 'alert alert-danger alert-dismissible fade show',\n            role: 'alert'\n          }, result.error, closeBtn));\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: alertArea\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-signin\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-floating\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control\",\n            onChange: e => {\n              setEmail(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), \"Email\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-floating\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            onChange: e => {\n              setPassword(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), \"Password\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: checkCredential,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Login, \"DAXvtUU+qpqi4PVxyiz4qcWbek0=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/suphachabharnigrodhananda/Desktop/6080/ass3/frontend/src/login.jsx"],"names":["React","Cookies","Login","cookies","email","setEmail","useState","pw","setPassword","alertArea","setAlert","closeBtn","createElement","className","onClick","checkCredential","e","fetch","method","headers","Accept","body","JSON","stringify","password","then","data","status","json","result","set","token","role","error","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport Cookies from 'universal-cookie';\nimport 'react-router-dom';\n\nexport default function Login () {\n  const cookies = new Cookies();\n  const [email, setEmail] = React.useState('');\n  const [pw, setPassword] = React.useState('');\n  const [alertArea, setAlert] = React.useState(null);\n  const closeBtn = React.createElement('button', {\n    className: 'btn-close',\n    onClick: () => { setAlert(null); }\n  }, 'Close');\n\n  const checkCredential = (e) => {\n    fetch('http://localhost:5005/admin/auth/login', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: email,\n        password: pw\n      })\n    }).then(data => {\n      if (data.status === 200) {\n        data.json().then((result) => {\n          cookies.set('token', result.token);\n          setAlert(React.createElement('div', {\n            className: 'alert alert-success alert-dismissible fade show',\n            role: 'alert'\n          }, 'success', closeBtn));\n        });\n      } else {\n        data.json().then((result) => {\n          setAlert(React.createElement('div', {\n            className: 'alert alert-danger alert-dismissible fade show',\n            role: 'alert'\n          }, result.error, closeBtn));\n        });\n      }\n    });\n  };\n\n  return (\n    <>\n      <div>\n        {alertArea}\n      </div>\n      <div\n        className='form-signin'\n      >\n        <div\n          className='form-floating'\n        >\n          <label>\n            <input\n              type='email'\n              className='form-control'\n              onChange={(e) => { setEmail(e.target.value); }}\n            ></input>\n            Email\n          </label>\n        </div>\n        <div\n          className='form-floating'\n        >\n          <label>\n            <input\n              type='password'\n              className='form-control'\n              onChange={(e) => { setPassword(e.target.value); }}\n            ></input>\n            Password\n          </label>\n        </div>\n        <button\n          className='btn btn-primary'\n          onClick={checkCredential}\n        >\n          Login\n        </button>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}